  <% @categories.each do |category| %>
    <details class="root">
        <summary><%= category.name %><%= link_to "Add category", new_category_path(:category_id => category.id) %></summary>
        <% category.children.each do |a| %>
          <details class="children">
            <summary><%= a.name %> <a href="#" class="add-category">Add category</a></summary>
              <% a.children.each do |b| %>
                <details class="children">
                  <summary><%= b.name %> <a href="#" class="add-category">Add category</a></summary>
                </details>
              <% end %>  
          </details>
        <% end %> 
    </details>
  <% end %>
<a href="#" class="add-category" data-toggle="modal" data-target="#myModal">Add root category</a>


 <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
          <%= form_for(category, html: { multipart: true }) do |f| %>
            <% if category.errors.any? %>
              <div id="error_explanation">
                <h2><%= pluralize(category.errors.count, "error") %> prohibited this category from being saved:</h2>

                <ul>
                <% category.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
                </ul>
              </div>
            <% end %>

            <div class="field">
              <%= f.label :picture %>
              <%= f.file_field :picture %>
            </div>

            <div class="field">
              <%= f.label :category_id %>
              <%= f.text_field :category_id, value: @category_id %>
            </div>

            <div class="field">
              <%= f.label :name %>
              <%= f.text_field :name %>
            </div>

            <div class="field">
              <%= f.label :description %>
              <%= f.text_area :description %>
            </div>


            <div class="field">
              <%= f.label :banner %>
              <%= f.file_field :banner %>
            </div>

            <div class="actions">
              <%= f.submit %>
            </div>
          <% end %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>


